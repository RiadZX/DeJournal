/**
 * This code was AUTOGENERATED using the codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from 'gill';
import {
  type ParsedCreateEntryInstruction,
  type ParsedDeleteEntryInstruction,
  type ParsedEditEntryInstruction,
} from '../instructions';

export const DAILY_JOURNAL_PROGRAM_ADDRESS =
  'GbEwy5B5fr4uZGAVr6GhouFQVUuDvqiscQEBeFb94wSn' as Address<'GbEwy5B5fr4uZGAVr6GhouFQVUuDvqiscQEBeFb94wSn'>;

export enum DailyJournalAccount {
  Entry,
}

export function identifyDailyJournalAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): DailyJournalAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([63, 18, 152, 113, 215, 246, 221, 250])
      ),
      0
    )
  ) {
    return DailyJournalAccount.Entry;
  }
  throw new Error(
    'The provided account could not be identified as a dailyJournal account.'
  );
}

export enum DailyJournalInstruction {
  CreateEntry,
  DeleteEntry,
  EditEntry,
}

export function identifyDailyJournalInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): DailyJournalInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([248, 207, 142, 242, 66, 162, 150, 16])
      ),
      0
    )
  ) {
    return DailyJournalInstruction.CreateEntry;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([227, 198, 83, 191, 70, 23, 194, 58])
      ),
      0
    )
  ) {
    return DailyJournalInstruction.DeleteEntry;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([229, 145, 96, 144, 117, 131, 101, 193])
      ),
      0
    )
  ) {
    return DailyJournalInstruction.EditEntry;
  }
  throw new Error(
    'The provided instruction could not be identified as a dailyJournal instruction.'
  );
}

export type ParsedDailyJournalInstruction<
  TProgram extends string = 'GbEwy5B5fr4uZGAVr6GhouFQVUuDvqiscQEBeFb94wSn',
> =
  | ({
      instructionType: DailyJournalInstruction.CreateEntry;
    } & ParsedCreateEntryInstruction<TProgram>)
  | ({
      instructionType: DailyJournalInstruction.DeleteEntry;
    } & ParsedDeleteEntryInstruction<TProgram>)
  | ({
      instructionType: DailyJournalInstruction.EditEntry;
    } & ParsedEditEntryInstruction<TProgram>);
